ORG 0H;
LJMP MAIN;

ORG 000BH;
LJMP ISR_T0;

;ORG 001BH;
;LJMP ISR_T1;

ORG 0030H;
MAIN:	MOV TMOD, #11H;
		SETB EA;
		SETB ET0;
		SETB PSW.5;
		MOV TL0, #0DAH;
		MOV TH0, #0EFH;
		SETB TR0;
		MOV R3, #2D;
		ACALL DELAY;
		CLR TR0;
		MOV TL0, #0B7H;
		MOV TH0, #0F1H;
		SETB TR0;
		MOV R3, #2D;
		ACALL DELAY;
		CLR TR0;
		LJMP MAIN;

DELAY:		
	AGAIN_:			MOV R2, #50D;
			AGAIN:	MOV TL1, #0C0H;
					MOV TH1, #63H;
					SETB TR1;
					HERE:	JNB TF1, HERE;
					CLR TR1;
					CLR TF1;
					DJNZ R2, AGAIN;
				DJNZ R3, AGAIN_;
				CLR PSW.5;
				RET;
		
ISR_T0: CLR TF0;
		CLR TR0;
		CPL P0.0;
		JB PSW.5, JUMP;
		MOV TL0, #0B7H;
		MOV TH0, #0F1H;
		SJMP EXIT;
		JUMP:	MOV TL0, #0DAH;
				MOV TH0, #0EFH;
		EXIT:	SETB TR0;
		RETI;
		
END;